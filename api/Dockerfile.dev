FROM node:lts-alpine

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

EXPOSE 4000
RUN chmod +x wait-for

ENTRYPOINT ["wait-for", "neo4j:7687", "--", "npm", "test"]
