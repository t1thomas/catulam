{
  "AWSEBDockerrunVersion": 2,
  "containerDefinitions": [
    {
      "name": "catulam-db",
      "image": "timt1/catulam-db",
      "portMappings": [
        {
          "hostPort": 7474,
          "containerPort": 7474
        },
        {
          "hostPort": 7687,
          "containerPort": 7687
        }
      ],
      "environment": [
        {
          "NEO4J_dbms_security_procedures_unrestricted": "apoc.*",
          "NEO4J_apoc_import_file_enabled": true,
          "NEO4J_apoc_export_file_enabled": true,
          "NEO4J_dbms_shell_enabled": true,
          "NEO4J_apoc_ttl_enabled": true,
          "NEO4J_apoc_ttl_schedule": 10,
          "NEO4J_dbms_memory_pagecache_size": "2G",
          "NEO4JLABS_PLUGINS":["apoc"]
        }
      ],
      "essential": true,
      "memory": 128
    },
    {
      "name": "catulam-api",
      "image": "timt1/catulam-api",
      "portMappings": [
        {
          "hostPort": 7000,
          "containerPort": 7000
        }
      ],
      "environment": [
        {
          "NEO4J_URI": "bolt://catulam-db:7687",
          "NEO4J_USER": "neo4j",
          "NEO4J_PASSWORD": "letmein",
          "GRAPHQL_LISTEN_PORT": 7000,
          "GRAPHQL_URI": "http://catulam-api:7000/graphql",
          "JWT_SECRET": "catulam2A34iaeDwefdAaawe12s0wfha048",
          "BCRYPTHASHCOST": 10,
          "NODE_ENV": "production"
        }
      ],
      "essential": false,
      "memory": 128
    },
    {
      "name": "catulam-frontend",
      "image": "timt1/catulam-frontend",
      "portMappings": [
        {
          "hostPort": 80,
          "containerPort": 80
        }
      ],
      "essential": false,
      "memory": 128
    }
  ]
}
